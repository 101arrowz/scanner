function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequireed96;let o;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequireed96=a),a.register("tgjIf",(function(e,n){var r,a;t(e.exports,"register",(()=>r),(t=>r=t)),t(e.exports,"resolve",(()=>a),(t=>a=t));var o={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)o[e[n]]=t[e[n]]},a=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("tgjIf").register(JSON.parse('{"hSxXa":"process.4bfe4464.js","iOEoq":"scanner_bg.dd445e70.wasm"}'));const i=new Array(32).fill(void 0);function s(t){return i[t]}i.push(void 0,null,!0,!1);let c=i.length;function u(t){const e=s(t);return function(t){t<36||(i[t]=c,c=t)}(t),e}function _(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=_(t[0]));for(let r=1;r<e;r++)n+=", "+_(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:r}let f=0,l=null;function g(){return null!==l&&l.buffer===o.memory.buffer||(l=new Uint8Array(o.memory.buffer)),l}let d=new TextEncoder("utf-8");const b="function"==typeof d.encodeInto?function(t,e){return d.encodeInto(t,e)}:function(t,e){const n=d.encode(t);return e.set(n),{read:t.length,written:n.length}};let p=null;function w(){return null!==p&&p.buffer===o.memory.buffer||(p=new Int32Array(o.memory.buffer)),p}let y=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function h(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function m(t){c===i.length&&i.push(i.length+1);const e=c;return c=i[e],i[e]=t,e}function v(t){return null==t}y.decode();let x=null;function E(t,e){return(null!==x&&x.buffer===o.memory.buffer||(x=new Uint8ClampedArray(o.memory.buffer)),x).subarray(t/1,t/1+e)}function O(t,e){try{return t.apply(this,e)}catch(t){o.__wbindgen_exn_store(m(t))}}class q{static __wrap(t){const e=Object.create(q.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();o.__wbg_point_free(t)}get x(){return o.__wbg_get_point_x(this.ptr)}set x(t){o.__wbg_set_point_x(this.ptr,t)}get y(){return o.__wbg_get_point_y(this.ptr)}set y(t){o.__wbg_set_point_y(this.ptr,t)}}class A{static __wrap(t){const e=Object.create(A.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();o.__wbg_quad_free(t)}get a(){var t=o.__wbg_get_quad_a(this.ptr);return q.__wrap(t)}set a(t){h(t,q);var e=t.ptr;t.ptr=0,o.__wbg_set_quad_a(this.ptr,e)}get b(){var t=o.__wbg_get_quad_b(this.ptr);return q.__wrap(t)}set b(t){h(t,q);var e=t.ptr;t.ptr=0,o.__wbg_set_quad_b(this.ptr,e)}get c(){var t=o.__wbg_get_quad_c(this.ptr);return q.__wrap(t)}set c(t){h(t,q);var e=t.ptr;t.ptr=0,o.__wbg_set_quad_c(this.ptr,e)}get d(){var t=o.__wbg_get_quad_d(this.ptr);return q.__wrap(t)}set d(t){h(t,q);var e=t.ptr;t.ptr=0,o.__wbg_set_quad_d(this.ptr,e)}constructor(t,e,n,r,a,i,s,c){var u=o.quad_new(t,e,n,r,a,i,s,c);return A.__wrap(u)}}var j;a.register("aumCZ",(function(e,n){var r;t(e.exports,"getBundleURL",(()=>r),(t=>r=t));var a={};function o(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),a[t]=e),e}})),j=a("aumCZ").getBundleURL("hSxXa")+a("tgjIf").resolve("iOEoq");var R=async function t(e){void 0===e&&(e=new URL(j));const n={wbg:{}};n.wbg.__wbg_width_16bd64d09cbf5661=function(t){return s(t).width},n.wbg.__wbg_height_368bb86c37d51bc9=function(t){return s(t).height},n.wbg.__wbg_data_1ae7496c58caf755=function(t,e){var n=function(t,e){const n=e(1*t.length);return g().set(t,n/1),f=t.length,n}(s(e).data,o.__wbindgen_malloc),r=f;w()[t/4+1]=r,w()[t/4+0]=n},n.wbg.__wbindgen_object_drop_ref=function(t){u(t)},n.wbg.__wbg_newwithu8clampedarrayandsh_1b8c6e1bede43657=function(){return O((function(t,e,n,r){return m(new ImageData(E(t,e),n>>>0,r>>>0))}),arguments)},n.wbg.__wbindgen_debug_string=function(t,e){var n=function(t,e,n){if(void 0===n){const n=d.encode(t),r=e(n.length);return g().subarray(r,r+n.length).set(n),f=n.length,r}let r=t.length,a=e(r);const o=g();let i=0;for(;i<r;i++){const e=t.charCodeAt(i);if(e>127)break;o[a+i]=e}if(i!==r){0!==i&&(t=t.slice(i)),a=n(a,r,r=i+3*t.length);const e=g().subarray(a+i,a+r);i+=b(t,e).written}return f=i,a}(_(s(e)),o.__wbindgen_malloc,o.__wbindgen_realloc),r=f;w()[t/4+1]=r,w()[t/4+0]=n},n.wbg.__wbindgen_throw=function(t,e){throw new Error((n=t,r=e,y.decode(g().subarray(n,n+r))));var n,r},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:a}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,n);return o=r.exports,t.__wbindgen_wasm_module=a,o};const S=t=>{if("find-document"==t.type){const r=(e=t.data,0===(n=o.find_document(m(e)))?void 0:A.__wrap(n));return{result:r&&{a:{x:r.a.x,y:r.a.y},b:{x:r.b.x,y:r.b.y},c:{x:r.c.x,y:r.c.y},d:{x:r.d.x,y:r.d.y}}}}if("extract-document"==t.type){const{a:e,b:n,c:r,d:a}=t.region,i=new A(e.x,e.y,n.x,n.y,r.x,r.y,a.x,a.y),s=function(t,e,n,r){h(e,A);var a=e.ptr;return e.ptr=0,u(o.extract_document(m(t),a,n,!v(r),v(r)?0:r))}(t.data,i,t.targetWidth,t.targetHeight);return{result:s,transfer:[s.data.buffer]}}if("get-data"==t.type){const{width:e,height:n}=t.bitmap,r=new OffscreenCanvas(e,n).getContext("2d");r.drawImage(t.bitmap,0,0);const a=r.getImageData(0,0,e,n);return{result:a,transfer:[a.data.buffer]}}throw new TypeError("invalid message");var e,n};let I=R().catch((()=>{}));onmessage=async t=>{await I;const{msg:e,...n}=t.data;try{const{result:t,transfer:r}=S(e);postMessage({result:t,...n},r||[])}catch(t){t instanceof Error||(t=new Error(`Error in process worker: ${t}`)),postMessage({error:{message:t.message,stack:t.stack,name:t.name},...n})}};
//# sourceMappingURL=process.4bfe4464.js.map
